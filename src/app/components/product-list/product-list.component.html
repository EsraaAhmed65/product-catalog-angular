<div class="d-flex align-items-center justify-content-between mb-3">
    <h2 class="section-title mb-0">{{ categoryName }}</h2>
    <a class="btn btn-outline-secondary btn-sm" routerLink="/">
        <i class="fa-solid fa-arrow-left me-1"></i> Back
    </a>
</div>

<div *ngIf="products.length === 0" class="alert alert-warning">No products found.</div>

<div class="row g-4 product-grid" *ngIf="products.length > 0">
    <div class="col-12 col-sm-6 col-lg-4" *ngFor="let p of products">
        <div class="card h-100 product-card">
            <img [src]="p.image || 'https://picsum.photos/seed/'+p.id+'/800/600'"
                alt="{{ p.imageAlt || p.name || 'Product image' }}" title="{{ p.name || 'Product' }}"
                class="product-thumb" loading="lazy">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-center mb-2">
                    <h6 class="card-title mb-0">{{ p.name }}</h6>
                    <span class="price fw-bold">{{ p.price }} EGP</span>
                </div>
                <p class="text-muted small mb-3">{{ p.description }}</p>
                <button class="btn btn-view" (click)="goToDetails(p)">
                    <i class="fa-regular fa-circle-right me-1"></i> View Details
                </button>
            </div>
        </div>
    </div>
</div>